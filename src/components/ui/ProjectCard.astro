---
import type { Project } from "../../data/projects";

interface Props {
  project: Project;
  variant?: "vertical" | "horizontal";
}

const { project, variant = "vertical" } = Astro.props;
---

<div
  class={`group rounded-xl bg-bgSecondary border border-white/5 overflow-hidden flex
    hover:-translate-y-1 hover:border-white/10 transition
    ${variant === "horizontal" ? "flex-col md:flex-row" : "flex-col"}
  `}
>
  <!-- Imagen -->
  <div
    class={`overflow-hidden ${
      variant === "horizontal" ? "md:w-1/2" : "w-full"
    }`}
  >
    <img
      src={project.image}
      alt={project.title}
      class="h-64 w-full object-cover transition-transform duration-300 ease-out group-hover:scale-105"
    />
  </div>

  <!-- Contenido -->
  <div class="p-6 flex flex-col gap-4 flex-1">
    <h3 class="text-xl font-heading font-semibold text-text">
      {project.title}
    </h3>

    <p class="text-sm text-muted leading-relaxed">
      {project.description}
    </p>

    <div class="flex flex-wrap gap-2 mt-auto">
      {project.stack.map((tech) => (
        <span class="text-xs rounded-full bg-white/5 px-3 py-1 text-muted">
          {tech}
        </span>
      ))}
    </div>

    <div class="flex gap-4 pt-4 text-sm font-heading">
      {project.demo ? (
        <a
          href={project.demo}
          target="_blank"
          class="text-accent"
        >
          Demo
        </a>
      ) : (
        <span class="text-muted/50 cursor-not-allowed">
          Demo
        </span>
      )}

      {project.repo ? (
        <a
          href={project.repo}
          target="_blank"
          class="text-muted"
        >
          Código
        </a>
      ) : (
        <span class="text-muted/50 cursor-not-allowed">
          Código
        </span>
      )}
    </div>
  </div>
</div>
